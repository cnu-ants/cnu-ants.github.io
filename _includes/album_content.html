{% raw %}
<!--
사용법:
1) 태그 배지 전달(문자열/객체 혼용 가능)
   {% assign tags = [
     { "label": "Paper", "bg": "#eef2ff", "color": "#4f46e5" },
     { "label": "Talk",  "bg": "#ecfeff", "color": "#0891b2" },
     "Workshop"
   ] %}
2) 인물과 날짜 전달
   - people: 배열 사용 권장 (예: ["Jeesu Jung","Taewook Hwang"])
   - authors: 문자열도 허용 (예: "Jeesu Jung, Taewook Hwang")
   - card_date: "YYYY-MM-DD" 형식 권장
   예)
   {% include album_content.html tags=tags people=page.people card_date="2024-11-08" %}
   또는
   {% include album_content.html tags=tags authors="Jeesu Jung, Taewook Hwang" card_date=page.date %}
참고: 태그 렌더링 로직은 `_includes/album_image.html`의 외부 데이터 패턴을 따릅니다.
-->
{% endraw %}
<!-- 카드 그리드(최대 3열) -->
<div
  style="
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    justify-content: center;
    max-width: 1100px;
    margin: 0 auto;
  "
>
  {% assign description_data = description | default: album.description |
  default: page.description %} {% comment %} description 배열이 있으면 다음
  구조로 순회하여 카드 생성: - item[0]: 날짜(YYYY-MM-DD 또는 YYYY.MM.DD) -
  item[1]: 발표자 - item[2]: 제목 - item[3]: 학회/저널(배지로 표시) {%
  endcomment %} {% if description_data %} {% for item in description_data %} {%
  assign item_date = item[0] | replace: ".", "-" %} {% assign authors_text =
  item[1] | default: authors | default: "Unknown" %} {% assign title_text =
  item[2] | default: "Untitled" %} {% assign venue_text = item[3] %}
  <article
    style="
      box-sizing: border-box;
      border: 1px solid #e5e7eb;
      border-radius: 16px;
      overflow: hidden;
      background: #ffffff;
      box-shadow: 0 1px 2px rgba(16, 24, 40, 0.06);
      transition: transform 0.2s ease, box-shadow 0.2s ease,
        border-color 0.2s ease;
    "
    onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 16px rgba(16,24,40,.12)';this.style.borderColor='#d1d5db';"
    onmouseout="this.style.transform='';this.style.boxShadow='0 1px 2px rgba(16,24,40,.06)';this.style.borderColor='#e5e7eb';"
  >
    <a href="#" style="display: block; color: inherit; text-decoration: none">
      <div style="padding: 20px; display: flex; flex-direction: column">
        {% if tags or venue_text %}
        <div
          style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 6px"
        >
          {% if tags %} {% for tag in tags %} {% assign label = tag %} {% assign
          bg = '#eef2ff' %} {% assign color = '#4f46e5' %} {% if tag.label %}{%
          assign label = tag.label %}{% endif %} {% if tag.bg %}{% assign bg =
          tag.bg %}{% endif %} {% if tag.color %}{% assign color = tag.color
          %}{% endif %} {% if tag[0] %}{% assign label = tag[0] %}{% endif %} {%
          if tag[1] %}{% assign color = tag[1] %}{% endif %}
          <span
            style="
              display: inline-block;
              padding: 6px 12px;
              border-radius: 999px;
              background: #eef2ff;
              color: #4f46e5;
              font-weight: 700;
              font-size: 13px;
              line-height: 1;
            "
          >
            {{ label }}
          </span>
          {% endfor %} {% endif %} {% if venue_text %}
          <span
            style="
              display: inline-block;
              padding: 6px 12px;
              border-radius: 999px;
              background: #ecfeff;
              color: #0891b2;
              font-weight: 700;
              font-size: 13px;
              line-height: 1;
            "
          >
            {{ venue_text }}
          </span>
          {% endif %}
        </div>
        {% else %}
        <span
          style="
            display: inline-block;
            padding: 6px 12px;
            border-radius: 999px;
            background: #eef2ff;
            color: #4f46e5;
            font-weight: 700;
            font-size: 13px;
            line-height: 1;
          "
        >
          Paper
        </span>
        {% endif %}

        <h3
          style="
            margin: 8px 0 12px;
            font-size: 20px;
            line-height: 1.35;
            color: #111827;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            word-break: break-all;
            overflow-wrap: anywhere;
          "
        >
          {{ title_text }}
        </h3>

        <div
          style="
            margin-top: auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
          "
        >
          <div
            style="
              display: flex;
              align-items: center;
              gap: 8px;
              color: #374151;
              font-size: 14px;
            "
          >
            <span
              style="
                width: 22px;
                height: 22px;
                border-radius: 999px;
                background: #eef2ff;
                color: #4f46e5;
                display: inline-flex;
                align-items: center;
                justify-content: center;
              "
              aria-hidden="true"
            >
              <svg
                width="12"
                height="12"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M7 2a1 1 0 0 0-1 1v1H5a3 3 0 0 0-3 3v11a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3h-1V3a1 1 0 0 0-2 0v1H8V3a1 1 0 0 0-1-1ZM4 9h16v9a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1Z"
                />
              </svg>
            </span>
            <time datetime="{{ item_date }}">{{ item_date }}</time>
          </div>

          {% assign presenter_initial = authors_text | slice: 0, 1 %}
          <div
            style="
              display: flex;
              align-items: center;
              gap: 10px;
              color: #374151;
              font-size: 15px;
            "
          >
            <span
              style="
                width: 28px;
                height: 28px;
                border-radius: 999px;
                background: #f3f4f6;
                color: #111827;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                font-weight: 700;
              "
            >
              {{ presenter_initial }}
            </span>
            <span>{{ authors_text }}</span>
          </div>
        </div>
      </div>
    </a>
  </article>
  {% endfor %} {% endif %}
</div>
